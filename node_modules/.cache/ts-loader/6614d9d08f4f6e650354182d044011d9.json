{"remainingRequest":"C:\\Users\\ferna\\Desktop\\HiddenStaking\\gem-farm\\app\\gem-farm\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ferna\\Desktop\\HiddenStaking\\gem-farm\\app\\gem-farm\\node_modules\\ts-loader\\index.js??ref--14-2!C:\\Users\\ferna\\Desktop\\HiddenStaking\\gem-farm\\app\\gem-farm\\src\\common\\gem-farm\\index.ts","dependencies":[{"path":"C:\\Users\\ferna\\Desktop\\HiddenStaking\\gem-farm\\app\\gem-farm\\src\\common\\gem-farm\\index.ts","mtime":1650820970790},{"path":"C:\\Users\\ferna\\Desktop\\HiddenStaking\\gem-farm\\app\\gem-farm\\babel.config.js","mtime":1650820970773},{"path":"C:\\Users\\ferna\\Desktop\\HiddenStaking\\gem-farm\\app\\gem-farm\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650821057627},{"path":"C:\\Users\\ferna\\Desktop\\HiddenStaking\\gem-farm\\app\\gem-farm\\node_modules\\babel-loader\\lib\\index.js","mtime":1650821057452},{"path":"C:\\Users\\ferna\\Desktop\\HiddenStaking\\gem-farm\\app\\gem-farm\\node_modules\\ts-loader\\index.js","mtime":1650821095383}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIkM6XFxVc2Vyc1xcZmVybmFcXERlc2t0b3BcXEhpZGRlblN0YWtpbmdcXGdlbS1mYXJtXFxhcHBcXGdlbS1mYXJtXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxzbGljZWRUb0FycmF5LmpzIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzpcXFVzZXJzXFxmZXJuYVxcRGVza3RvcFxcSGlkZGVuU3Rha2luZ1xcZ2VtLWZhcm1cXGFwcFxcZ2VtLWZhcm1cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXG9iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIkM6XFxVc2Vyc1xcZmVybmFcXERlc2t0b3BcXEhpZGRlblN0YWtpbmdcXGdlbS1mYXJtXFxhcHBcXGdlbS1mYXJtXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxjbGFzc0NhbGxDaGVjay5qcyI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiQzpcXFVzZXJzXFxmZXJuYVxcRGVza3RvcFxcSGlkZGVuU3Rha2luZ1xcZ2VtLWZhcm1cXGFwcFxcZ2VtLWZhcm1cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGNyZWF0ZUNsYXNzLmpzIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICJDOlxcVXNlcnNcXGZlcm5hXFxEZXNrdG9wXFxIaWRkZW5TdGFraW5nXFxnZW0tZmFybVxcYXBwXFxnZW0tZmFybVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcaW5oZXJpdHMuanMiOwppbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gIkM6XFxVc2Vyc1xcZmVybmFcXERlc2t0b3BcXEhpZGRlblN0YWtpbmdcXGdlbS1mYXJtXFxhcHBcXGdlbS1mYXJtXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxjcmVhdGVTdXBlci5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJDOlxcVXNlcnNcXGZlcm5hXFxEZXNrdG9wXFxIaWRkZW5TdGFraW5nXFxnZW0tZmFybVxcYXBwXFxnZW0tZmFybVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IEtleXBhaXIgfSBmcm9tICdAc29sYW5hL3dlYjMuanMnOwppbXBvcnQgeyBCTiB9IGZyb20gJ0Bwcm9qZWN0LXNlcnVtL2FuY2hvcic7CmltcG9ydCB7IGNyZWF0ZUZha2VXYWxsZXQgfSBmcm9tICdAL2NvbW1vbi9nZW0tYmFuayc7CmltcG9ydCB7IEdlbUZhcm1DbGllbnQsIGZpbmRXaGl0ZWxpc3RQcm9vZlBEQSwgR0VNX0ZBUk1fUFJPR19JRCwgR0VNX0JBTktfUFJPR19JRCB9IGZyb20gJ0BnZW13b3Jrcy9nZW0tZmFybS10cyc7CmltcG9ydCB7IHByb2dyYW1zIH0gZnJvbSAnQG1ldGFwbGV4L2pzJzsKZXhwb3J0IGZ1bmN0aW9uIGluaXRHZW1GYXJtKF94LCBfeDIpIHsKICByZXR1cm4gX2luaXRHZW1GYXJtLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9pbml0R2VtRmFybSgpIHsKICBfaW5pdEdlbUZhcm0gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxOChjb25uLCB3YWxsZXQpIHsKICAgIHZhciB3YWxsZXRUb1VzZSwgZmFybUlkbCwgYmFua0lkbDsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTgkKF9jb250ZXh0MTgpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTgucHJldiA9IF9jb250ZXh0MTgubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICB3YWxsZXRUb1VzZSA9IHdhbGxldCAhPT0gbnVsbCAmJiB3YWxsZXQgIT09IHZvaWQgMCA/IHdhbGxldCA6IGNyZWF0ZUZha2VXYWxsZXQoKTsKICAgICAgICAgICAgX2NvbnRleHQxOC5uZXh0ID0gMzsKICAgICAgICAgICAgcmV0dXJuIGZldGNoKCdnZW1fZmFybS5qc29uJyk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICBfY29udGV4dDE4Lm5leHQgPSA1OwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOC5zZW50Lmpzb24oKTsKCiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGZhcm1JZGwgPSBfY29udGV4dDE4LnNlbnQ7CiAgICAgICAgICAgIF9jb250ZXh0MTgubmV4dCA9IDg7CiAgICAgICAgICAgIHJldHVybiBmZXRjaCgnZ2VtX2JhbmsuanNvbicpOwoKICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgX2NvbnRleHQxOC5uZXh0ID0gMTA7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE4LnNlbnQuanNvbigpOwoKICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgIGJhbmtJZGwgPSBfY29udGV4dDE4LnNlbnQ7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE4LmFicnVwdCgicmV0dXJuIiwgbmV3IEdlbUZhcm0oY29ubiwgd2FsbGV0VG9Vc2UsIGZhcm1JZGwsIGJhbmtJZGwpKTsKCiAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTguc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTE4KTsKICB9KSk7CiAgcmV0dXJuIF9pbml0R2VtRmFybS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgdmFyIEdlbUZhcm0gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9HZW1GYXJtQ2xpZW50KSB7CiAgX2luaGVyaXRzKEdlbUZhcm0sIF9HZW1GYXJtQ2xpZW50KTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihHZW1GYXJtKTsKCiAgZnVuY3Rpb24gR2VtRmFybShjb25uLCB3YWxsZXQsIGZhcm1JZGwsIGJhbmtJZGwpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBHZW1GYXJtKTsKCiAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgY29ubiwgd2FsbGV0LCBmYXJtSWRsLCBHRU1fRkFSTV9QUk9HX0lELCBiYW5rSWRsLCBHRU1fQkFOS19QUk9HX0lEKTsKICB9CgogIF9jcmVhdGVDbGFzcyhHZW1GYXJtLCBbewogICAga2V5OiAiaW5pdEZhcm1XYWxsZXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9pbml0RmFybVdhbGxldCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShyZXdhcmRBTWludCwgcmV3YXJkQVR5cGUsIHJld2FyZEJNaW50LCByZXdhcmRCVHlwZSwgZmFybUNvbmZpZykgewogICAgICAgIHZhciBmYXJtLCBiYW5rLCByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZmFybSA9IEtleXBhaXIuZ2VuZXJhdGUoKTsKICAgICAgICAgICAgICAgIGJhbmsgPSBLZXlwYWlyLmdlbmVyYXRlKCk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmluaXRGYXJtKGZhcm0sIHRoaXMud2FsbGV0LnB1YmxpY0tleSwgdGhpcy53YWxsZXQucHVibGljS2V5LCBiYW5rLCByZXdhcmRBTWludCwgcmV3YXJkQVR5cGUsIHJld2FyZEJNaW50LCByZXdhcmRCVHlwZSwgZmFybUNvbmZpZyk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnbmV3IGZhcm0gc3RhcnRlZCEnLCBmYXJtLnB1YmxpY0tleS50b0Jhc2U1OCgpKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdiYW5rIGlzOicsIGJhbmsucHVibGljS2V5LnRvQmFzZTU4KCkpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgX29iamVjdFNwcmVhZCh7CiAgICAgICAgICAgICAgICAgIGZhcm06IGZhcm0sCiAgICAgICAgICAgICAgICAgIGJhbms6IGJhbmsKICAgICAgICAgICAgICAgIH0sIHJlc3VsdCkpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gaW5pdEZhcm1XYWxsZXQoX3gzLCBfeDQsIF94NSwgX3g2LCBfeDcpIHsKICAgICAgICByZXR1cm4gX2luaXRGYXJtV2FsbGV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBpbml0RmFybVdhbGxldDsKICAgIH0oKQogIH0sIHsKICAgIGtleTogInVwZGF0ZUZhcm1XYWxsZXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF91cGRhdGVGYXJtV2FsbGV0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihmYXJtLCBuZXdDb25maWcsIG5ld01hbmFnZXIpIHsKICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy51cGRhdGVGYXJtKGZhcm0sIHRoaXMud2FsbGV0LnB1YmxpY0tleSwgbmV3Q29uZmlnLCBuZXdNYW5hZ2VyKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygndXBkYXRlZCB0aGUgZmFybScpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIHJlc3VsdCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHVwZGF0ZUZhcm1XYWxsZXQoX3g4LCBfeDksIF94MTApIHsKICAgICAgICByZXR1cm4gX3VwZGF0ZUZhcm1XYWxsZXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHVwZGF0ZUZhcm1XYWxsZXQ7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJhdXRob3JpemVGdW5kZXJXYWxsZXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9hdXRob3JpemVGdW5kZXJXYWxsZXQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKGZhcm0sIGZ1bmRlcikgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmF1dGhvcml6ZUZ1bmRlcihmYXJtLCB0aGlzLndhbGxldC5wdWJsaWNLZXksIGZ1bmRlcik7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2F1dGhvcml6ZWQgZnVuZGVyJywgZnVuZGVyLnRvQmFzZTU4KCkpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIHJlc3VsdCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMywgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGF1dGhvcml6ZUZ1bmRlcldhbGxldChfeDExLCBfeDEyKSB7CiAgICAgICAgcmV0dXJuIF9hdXRob3JpemVGdW5kZXJXYWxsZXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGF1dGhvcml6ZUZ1bmRlcldhbGxldDsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImRlYXV0aG9yaXplRnVuZGVyV2FsbGV0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZGVhdXRob3JpemVGdW5kZXJXYWxsZXQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KGZhcm0sIGZ1bmRlcikgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRlYXV0aG9yaXplRnVuZGVyKGZhcm0sIHRoaXMud2FsbGV0LnB1YmxpY0tleSwgZnVuZGVyKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQ0LnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnREVhdXRob3JpemVkIGZ1bmRlcicsIGZ1bmRlci50b0Jhc2U1OCgpKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCByZXN1bHQpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBkZWF1dGhvcml6ZUZ1bmRlcldhbGxldChfeDEzLCBfeDE0KSB7CiAgICAgICAgcmV0dXJuIF9kZWF1dGhvcml6ZUZ1bmRlcldhbGxldC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZGVhdXRob3JpemVGdW5kZXJXYWxsZXQ7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJmdW5kVmFyaWFibGVSZXdhcmRXYWxsZXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9mdW5kVmFyaWFibGVSZXdhcmRXYWxsZXQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KGZhcm0sIHJld2FyZE1pbnQsIGFtb3VudCwgZHVyYXRpb24pIHsKICAgICAgICB2YXIgcmV3YXJkU291cmNlLCBjb25maWcsIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmluZEFUQShyZXdhcmRNaW50LCB0aGlzLndhbGxldC5wdWJsaWNLZXkpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXdhcmRTb3VyY2UgPSBfY29udGV4dDUuc2VudDsKICAgICAgICAgICAgICAgIGNvbmZpZyA9IHsKICAgICAgICAgICAgICAgICAgYW1vdW50OiBuZXcgQk4oYW1vdW50KSwKICAgICAgICAgICAgICAgICAgZHVyYXRpb25TZWM6IG5ldyBCTihkdXJhdGlvbikKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLmZ1bmRSZXdhcmQoZmFybSwgcmV3YXJkTWludCwgdGhpcy53YWxsZXQucHVibGljS2V5LCByZXdhcmRTb3VyY2UsIGNvbmZpZyk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZnVuZGVkIHZhcmlhYmxlIHJld2FyZCB3aXRoIG1pbnQ6JywgcmV3YXJkTWludC50b0Jhc2U1OCgpKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iLCByZXN1bHQpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBmdW5kVmFyaWFibGVSZXdhcmRXYWxsZXQoX3gxNSwgX3gxNiwgX3gxNywgX3gxOCkgewogICAgICAgIHJldHVybiBfZnVuZFZhcmlhYmxlUmV3YXJkV2FsbGV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBmdW5kVmFyaWFibGVSZXdhcmRXYWxsZXQ7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJmdW5kRml4ZWRSZXdhcmRXYWxsZXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9mdW5kRml4ZWRSZXdhcmRXYWxsZXQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KGZhcm0sIHJld2FyZE1pbnQsIGFtb3VudCwgZHVyYXRpb24sIGJhc2VSYXRlLCBkZW5vbWluYXRvciwgdDFSZXdhcmRSYXRlLCB0MVJlcXVpcmVkVGVudXJlLCB0MlJld2FyZFJhdGUsIHQyUmVxdWlyZWRUZW51cmUsIHQzUmV3YXJkUmF0ZSwgdDNSZXF1aXJlZFRlbnVyZSkgewogICAgICAgIHZhciByZXdhcmRTb3VyY2UsIGNvbmZpZywgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5maW5kQVRBKHJld2FyZE1pbnQsIHRoaXMud2FsbGV0LnB1YmxpY0tleSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJld2FyZFNvdXJjZSA9IF9jb250ZXh0Ni5zZW50OwogICAgICAgICAgICAgICAgY29uZmlnID0gewogICAgICAgICAgICAgICAgICBzY2hlZHVsZTogewogICAgICAgICAgICAgICAgICAgIGJhc2VSYXRlOiBuZXcgQk4oYmFzZVJhdGUpLAogICAgICAgICAgICAgICAgICAgIHRpZXIxOiB0MVJld2FyZFJhdGUgPyB7CiAgICAgICAgICAgICAgICAgICAgICByZXdhcmRSYXRlOiBuZXcgQk4odDFSZXdhcmRSYXRlKSwKICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkVGVudXJlOiBuZXcgQk4odDFSZXF1aXJlZFRlbnVyZSkKICAgICAgICAgICAgICAgICAgICB9IDogbnVsbCwKICAgICAgICAgICAgICAgICAgICB0aWVyMjogdDJSZXdhcmRSYXRlID8gewogICAgICAgICAgICAgICAgICAgICAgcmV3YXJkUmF0ZTogbmV3IEJOKHQyUmV3YXJkUmF0ZSksCiAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFRlbnVyZTogbmV3IEJOKHQyUmVxdWlyZWRUZW51cmUpCiAgICAgICAgICAgICAgICAgICAgfSA6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgdGllcjM6IHQzUmV3YXJkUmF0ZSA/IHsKICAgICAgICAgICAgICAgICAgICAgIHJld2FyZFJhdGU6IG5ldyBCTih0M1Jld2FyZFJhdGUpLAogICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRUZW51cmU6IG5ldyBCTih0M1JlcXVpcmVkVGVudXJlKQogICAgICAgICAgICAgICAgICAgIH0gOiBudWxsLAogICAgICAgICAgICAgICAgICAgIGRlbm9taW5hdG9yOiBuZXcgQk4oZGVub21pbmF0b3IpCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIGFtb3VudDogbmV3IEJOKGFtb3VudCksCiAgICAgICAgICAgICAgICAgIGR1cmF0aW9uU2VjOiBuZXcgQk4oZHVyYXRpb24pCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZnVuZFJld2FyZChmYXJtLCByZXdhcmRNaW50LCB0aGlzLndhbGxldC5wdWJsaWNLZXksIHJld2FyZFNvdXJjZSwgdW5kZWZpbmVkLCBjb25maWcpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDYuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdmdW5kZWQgZml4ZWQgcmV3YXJkIHdpdGggbWludDonLCByZXdhcmRNaW50LnRvQmFzZTU4KCkpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hYnJ1cHQoInJldHVybiIsIHJlc3VsdCk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNiwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGZ1bmRGaXhlZFJld2FyZFdhbGxldChfeDE5LCBfeDIwLCBfeDIxLCBfeDIyLCBfeDIzLCBfeDI0LCBfeDI1LCBfeDI2LCBfeDI3LCBfeDI4LCBfeDI5LCBfeDMwKSB7CiAgICAgICAgcmV0dXJuIF9mdW5kRml4ZWRSZXdhcmRXYWxsZXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGZ1bmRGaXhlZFJld2FyZFdhbGxldDsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImNhbmNlbFJld2FyZFdhbGxldCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2NhbmNlbFJld2FyZFdhbGxldCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoZmFybSwgcmV3YXJkTWludCkgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNhbmNlbFJld2FyZChmYXJtLCB0aGlzLndhbGxldC5wdWJsaWNLZXksIHJld2FyZE1pbnQsIHRoaXMud2FsbGV0LnB1YmxpY0tleSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0Ny5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2NhbmNlbGxlZCByZXdhcmQnLCByZXdhcmRNaW50LnRvQmFzZTU4KCkpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5hYnJ1cHQoInJldHVybiIsIHJlc3VsdCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNywgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGNhbmNlbFJld2FyZFdhbGxldChfeDMxLCBfeDMyKSB7CiAgICAgICAgcmV0dXJuIF9jYW5jZWxSZXdhcmRXYWxsZXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGNhbmNlbFJld2FyZFdhbGxldDsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImxvY2tSZXdhcmRXYWxsZXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9sb2NrUmV3YXJkV2FsbGV0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOChmYXJtLCByZXdhcmRNaW50KSB7CiAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTgkKF9jb250ZXh0OCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDgucHJldiA9IF9jb250ZXh0OC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9ja1Jld2FyZChmYXJtLCB0aGlzLndhbGxldC5wdWJsaWNLZXksIHJld2FyZE1pbnQpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDguc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdsb2NrZWQgcmV3YXJkJywgcmV3YXJkTWludC50b0Jhc2U1OCgpKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguYWJydXB0KCJyZXR1cm4iLCByZXN1bHQpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTgsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBsb2NrUmV3YXJkV2FsbGV0KF94MzMsIF94MzQpIHsKICAgICAgICByZXR1cm4gX2xvY2tSZXdhcmRXYWxsZXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGxvY2tSZXdhcmRXYWxsZXQ7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJyZWZyZXNoRmFybWVyV2FsbGV0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmcmVzaEZhcm1lcldhbGxldCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTkoZmFybSwgZmFybWVySWRlbnRpdHkpIHsKICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOSQoX2NvbnRleHQ5KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OS5wcmV2ID0gX2NvbnRleHQ5Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZWZyZXNoRmFybWVyKGZhcm0sIGZhcm1lcklkZW50aXR5KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQ5LnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncmVmcmVzaGVkIGZhcm1lcicsIGZhcm1lcklkZW50aXR5LnRvQmFzZTU4KCkpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5hYnJ1cHQoInJldHVybiIsIHJlc3VsdCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOSwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHJlZnJlc2hGYXJtZXJXYWxsZXQoX3gzNSwgX3gzNikgewogICAgICAgIHJldHVybiBfcmVmcmVzaEZhcm1lcldhbGxldC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gcmVmcmVzaEZhcm1lcldhbGxldDsKICAgIH0oKQogIH0sIHsKICAgIGtleTogInRyZWFzdXJ5UGF5b3V0V2FsbGV0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfdHJlYXN1cnlQYXlvdXRXYWxsZXQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMChmYXJtLCBkZXN0aW5hdGlvbiwgbGFtcG9ydHMpIHsKICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTAkKF9jb250ZXh0MTApIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMC5wcmV2ID0gX2NvbnRleHQxMC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBheW91dEZyb21UcmVhc3VyeShmYXJtLCB0aGlzLndhbGxldC5wdWJsaWNLZXksIGRlc3RpbmF0aW9uLCBuZXcgQk4obGFtcG9ydHMpKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQxMC5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3BhaWQgb3V0IGZyb20gdHJlYXN1cnknLCBsYW1wb3J0cyk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5hYnJ1cHQoInJldHVybiIsIHJlc3VsdCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEwLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gdHJlYXN1cnlQYXlvdXRXYWxsZXQoX3gzNywgX3gzOCwgX3gzOSkgewogICAgICAgIHJldHVybiBfdHJlYXN1cnlQYXlvdXRXYWxsZXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRyZWFzdXJ5UGF5b3V0V2FsbGV0OwogICAgfSgpCiAgfSwgewogICAga2V5OiAiaW5pdEZhcm1lcldhbGxldCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2luaXRGYXJtZXJXYWxsZXQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMShmYXJtKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTExJChfY29udGV4dDExKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTEucHJldiA9IF9jb250ZXh0MTEubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pbml0RmFybWVyKGZhcm0sIHRoaXMud2FsbGV0LnB1YmxpY0tleSwgdGhpcy53YWxsZXQucHVibGljS2V5KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQxMS5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2luaXRpYWxpemVkIG5ldyBmYXJtZXInLCB0aGlzLndhbGxldC5wdWJsaWNLZXkudG9CYXNlNTgoKSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5hYnJ1cHQoInJldHVybiIsIHJlc3VsdCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTExLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gaW5pdEZhcm1lcldhbGxldChfeDQwKSB7CiAgICAgICAgcmV0dXJuIF9pbml0RmFybWVyV2FsbGV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBpbml0RmFybWVyV2FsbGV0OwogICAgfSgpCiAgfSwgewogICAga2V5OiAic3Rha2VXYWxsZXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9zdGFrZVdhbGxldCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEyKGZhcm0pIHsKICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTIkKF9jb250ZXh0MTIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMi5wcmV2ID0gX2NvbnRleHQxMi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YWtlKGZhcm0sIHRoaXMud2FsbGV0LnB1YmxpY0tleSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0MTIuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdiZWd1biBzdGFraW5nIGZvciBmYXJtZXInLCB0aGlzLndhbGxldC5wdWJsaWNLZXkudG9CYXNlNTgoKSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5hYnJ1cHQoInJldHVybiIsIHJlc3VsdCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEyLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gc3Rha2VXYWxsZXQoX3g0MSkgewogICAgICAgIHJldHVybiBfc3Rha2VXYWxsZXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHN0YWtlV2FsbGV0OwogICAgfSgpCiAgfSwgewogICAga2V5OiAidW5zdGFrZVdhbGxldCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3Vuc3Rha2VXYWxsZXQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMyhmYXJtKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEzJChfY29udGV4dDEzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTMucHJldiA9IF9jb250ZXh0MTMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy51bnN0YWtlKGZhcm0sIHRoaXMud2FsbGV0LnB1YmxpY0tleSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0MTMuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlbmRlZCBzdGFraW5nIGZvciBmYXJtZXInLCB0aGlzLndhbGxldC5wdWJsaWNLZXkudG9CYXNlNTgoKSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMy5hYnJ1cHQoInJldHVybiIsIHJlc3VsdCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEzLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gdW5zdGFrZVdhbGxldChfeDQyKSB7CiAgICAgICAgcmV0dXJuIF91bnN0YWtlV2FsbGV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiB1bnN0YWtlV2FsbGV0OwogICAgfSgpCiAgfSwgewogICAga2V5OiAiY2xhaW1XYWxsZXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9jbGFpbVdhbGxldCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE0KGZhcm0sIHJld2FyZEFNaW50LCByZXdhcmRCTWludCkgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNCQoX2NvbnRleHQxNCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE0LnByZXYgPSBfY29udGV4dDE0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDE0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2xhaW0oZmFybSwgdGhpcy53YWxsZXQucHVibGljS2V5LCByZXdhcmRBTWludCwgcmV3YXJkQk1pbnQpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDE0LnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnY2xhaW1lZCByZXdhcmRzIGZvciBmYXJtZXInLCB0aGlzLndhbGxldC5wdWJsaWNLZXkudG9CYXNlNTgoKSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNC5hYnJ1cHQoInJldHVybiIsIHJlc3VsdCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE0LCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gY2xhaW1XYWxsZXQoX3g0MywgX3g0NCwgX3g0NSkgewogICAgICAgIHJldHVybiBfY2xhaW1XYWxsZXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGNsYWltV2FsbGV0OwogICAgfSgpCiAgfSwgewogICAga2V5OiAiZmxhc2hEZXBvc2l0V2FsbGV0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZmxhc2hEZXBvc2l0V2FsbGV0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTUoZmFybSwgZ2VtQW1vdW50LCBnZW1NaW50LCBnZW1Tb3VyY2UsIGNyZWF0b3IpIHsKICAgICAgICB2YXIgZmFybUFjYywgYmFuaywgX3lpZWxkJGZpbmRXaGl0ZWxpc3RQLCBfeWllbGQkZmluZFdoaXRlbGlzdFAyLCBtaW50UHJvb2YsIGJ1bXAsIF95aWVsZCRmaW5kV2hpdGVsaXN0UDMsIF95aWVsZCRmaW5kV2hpdGVsaXN0UDQsIGNyZWF0b3JQcm9vZiwgYnVtcDIsIG1ldGFkYXRhLCByZXN1bHQ7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTUkKF9jb250ZXh0MTUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNS5wcmV2ID0gX2NvbnRleHQxNS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxNS5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZldGNoRmFybUFjYyhmYXJtKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgZmFybUFjYyA9IF9jb250ZXh0MTUuc2VudDsKICAgICAgICAgICAgICAgIGJhbmsgPSBmYXJtQWNjLmJhbms7CiAgICAgICAgICAgICAgICBfY29udGV4dDE1Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIGZpbmRXaGl0ZWxpc3RQcm9vZlBEQShiYW5rLCBnZW1NaW50KTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX3lpZWxkJGZpbmRXaGl0ZWxpc3RQID0gX2NvbnRleHQxNS5zZW50OwogICAgICAgICAgICAgICAgX3lpZWxkJGZpbmRXaGl0ZWxpc3RQMiA9IF9zbGljZWRUb0FycmF5KF95aWVsZCRmaW5kV2hpdGVsaXN0UCwgMik7CiAgICAgICAgICAgICAgICBtaW50UHJvb2YgPSBfeWllbGQkZmluZFdoaXRlbGlzdFAyWzBdOwogICAgICAgICAgICAgICAgYnVtcCA9IF95aWVsZCRmaW5kV2hpdGVsaXN0UDJbMV07CiAgICAgICAgICAgICAgICBfY29udGV4dDE1Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIHJldHVybiBmaW5kV2hpdGVsaXN0UHJvb2ZQREEoYmFuaywgY3JlYXRvcik7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBfeWllbGQkZmluZFdoaXRlbGlzdFAzID0gX2NvbnRleHQxNS5zZW50OwogICAgICAgICAgICAgICAgX3lpZWxkJGZpbmRXaGl0ZWxpc3RQNCA9IF9zbGljZWRUb0FycmF5KF95aWVsZCRmaW5kV2hpdGVsaXN0UDMsIDIpOwogICAgICAgICAgICAgICAgY3JlYXRvclByb29mID0gX3lpZWxkJGZpbmRXaGl0ZWxpc3RQNFswXTsKICAgICAgICAgICAgICAgIGJ1bXAyID0gX3lpZWxkJGZpbmRXaGl0ZWxpc3RQNFsxXTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTUubmV4dCA9IDE4OwogICAgICAgICAgICAgICAgcmV0dXJuIHByb2dyYW1zLm1ldGFkYXRhLk1ldGFkYXRhLmdldFBEQShnZW1NaW50KTsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICAgIG1ldGFkYXRhID0gX2NvbnRleHQxNS5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQxNS5uZXh0ID0gMjE7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mbGFzaERlcG9zaXQoZmFybSwgdGhpcy53YWxsZXQucHVibGljS2V5LCBuZXcgQk4oZ2VtQW1vdW50KSwgZ2VtTWludCwgZ2VtU291cmNlLCBtaW50UHJvb2YsIG1ldGFkYXRhLCBjcmVhdG9yUHJvb2YpOwoKICAgICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQxNS5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2FkZGVkIGV4dHJhIGdlbSBmb3IgZmFybWVyJywgdGhpcy53YWxsZXQucHVibGljS2V5LnRvQmFzZTU4KCkpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTUuYWJydXB0KCJyZXR1cm4iLCByZXN1bHQpOwoKICAgICAgICAgICAgICBjYXNlIDI0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTUsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBmbGFzaERlcG9zaXRXYWxsZXQoX3g0NiwgX3g0NywgX3g0OCwgX3g0OSwgX3g1MCkgewogICAgICAgIHJldHVybiBfZmxhc2hEZXBvc2l0V2FsbGV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBmbGFzaERlcG9zaXRXYWxsZXQ7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJhZGRUb0JhbmtXaGl0ZWxpc3RXYWxsZXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9hZGRUb0JhbmtXaGl0ZWxpc3RXYWxsZXQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNihmYXJtLCBhZGRyZXNzVG9XaGl0ZWxpc3QsIHdoaXRlbGlzdFR5cGUpIHsKICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTYkKF9jb250ZXh0MTYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNi5wcmV2ID0gX2NvbnRleHQxNi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmFkZFRvQmFua1doaXRlbGlzdChmYXJtLCB0aGlzLndhbGxldC5wdWJsaWNLZXksIGFkZHJlc3NUb1doaXRlbGlzdCwgd2hpdGVsaXN0VHlwZSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0MTYuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCIiLmNvbmNhdChhZGRyZXNzVG9XaGl0ZWxpc3QudG9CYXNlNTgoKSwgIiBhZGRlZCB0byB3aGl0ZWxpc3QiKSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNi5hYnJ1cHQoInJldHVybiIsIHJlc3VsdCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE2LCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gYWRkVG9CYW5rV2hpdGVsaXN0V2FsbGV0KF94NTEsIF94NTIsIF94NTMpIHsKICAgICAgICByZXR1cm4gX2FkZFRvQmFua1doaXRlbGlzdFdhbGxldC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gYWRkVG9CYW5rV2hpdGVsaXN0V2FsbGV0OwogICAgfSgpCiAgfSwgewogICAga2V5OiAicmVtb3ZlRnJvbUJhbmtXaGl0ZWxpc3RXYWxsZXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZW1vdmVGcm9tQmFua1doaXRlbGlzdFdhbGxldCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE3KGZhcm0sIGFkZHJlc3NUb1JlbW92ZSkgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNyQoX2NvbnRleHQxNykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE3LnByZXYgPSBfY29udGV4dDE3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDE3Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVtb3ZlRnJvbUJhbmtXaGl0ZWxpc3QoZmFybSwgdGhpcy53YWxsZXQucHVibGljS2V5LCBhZGRyZXNzVG9SZW1vdmUpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDE3LnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiIi5jb25jYXQoYWRkcmVzc1RvUmVtb3ZlLnRvQmFzZTU4KCksICIgcmVtb3ZlZCBmcm9tIHdoaXRlbGlzdCIpKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE3LmFicnVwdCgicmV0dXJuIiwgcmVzdWx0KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNy5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTcsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiByZW1vdmVGcm9tQmFua1doaXRlbGlzdFdhbGxldChfeDU0LCBfeDU1KSB7CiAgICAgICAgcmV0dXJuIF9yZW1vdmVGcm9tQmFua1doaXRlbGlzdFdhbGxldC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gcmVtb3ZlRnJvbUJhbmtXaGl0ZWxpc3RXYWxsZXQ7CiAgICB9KCkKICB9XSk7CgogIHJldHVybiBHZW1GYXJtOwp9KEdlbUZhcm1DbGllbnQpOw=="},{"version":3,"sources":["C:\\Users\\ferna\\Desktop\\HiddenStaking\\gem-farm\\app\\gem-farm\\src\\common\\gem-farm\\index.ts"],"names":[],"mappings":"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","sourcesContent":["import { Connection, Keypair, PublicKey } from '@solana/web3.js';\r\nimport { SignerWalletAdapter } from '@solana/wallet-adapter-base';\r\nimport { BN, Idl } from '@project-serum/anchor';\r\nimport { createFakeWallet } from '@/common/gem-bank';\r\nimport {\r\n  GemFarmClient,\r\n  FarmConfig,\r\n  VariableRateConfig,\r\n  FixedRateConfig,\r\n  WhitelistType,\r\n  findWhitelistProofPDA,\r\n  GEM_FARM_PROG_ID,\r\n  GEM_BANK_PROG_ID,\r\n} from '@gemworks/gem-farm-ts';\r\nimport { programs } from '@metaplex/js';\r\n\r\nexport async function initGemFarm(\r\n  conn: Connection,\r\n  wallet?: SignerWalletAdapter\r\n) {\r\n  const walletToUse = wallet ?? createFakeWallet();\r\n  const farmIdl = await (await fetch('gem_farm.json')).json();\r\n  const bankIdl = await (await fetch('gem_bank.json')).json();\r\n  return new GemFarm(conn, walletToUse as any, farmIdl, bankIdl);\r\n}\r\n\r\nexport class GemFarm extends GemFarmClient {\r\n  constructor(conn: Connection, wallet: any, farmIdl: Idl, bankIdl: Idl) {\r\n    super(conn, wallet, farmIdl, GEM_FARM_PROG_ID, bankIdl, GEM_BANK_PROG_ID);\r\n  }\r\n\r\n  async initFarmWallet(\r\n    rewardAMint: PublicKey,\r\n    rewardAType: any,\r\n    rewardBMint: PublicKey,\r\n    rewardBType: any,\r\n    farmConfig: FarmConfig\r\n  ) {\r\n    const farm = Keypair.generate();\r\n    const bank = Keypair.generate();\r\n\r\n    const result = await this.initFarm(\r\n      farm,\r\n      this.wallet.publicKey,\r\n      this.wallet.publicKey,\r\n      bank,\r\n      rewardAMint,\r\n      rewardAType,\r\n      rewardBMint,\r\n      rewardBType,\r\n      farmConfig\r\n    );\r\n\r\n    console.log('new farm started!', farm.publicKey.toBase58());\r\n    console.log('bank is:', bank.publicKey.toBase58());\r\n\r\n    return { farm, bank, ...result };\r\n  }\r\n\r\n  async updateFarmWallet(\r\n    farm: PublicKey,\r\n    newConfig?: FarmConfig,\r\n    newManager?: PublicKey\r\n  ) {\r\n    const result = await this.updateFarm(\r\n      farm,\r\n      this.wallet.publicKey,\r\n      newConfig,\r\n      newManager\r\n    );\r\n\r\n    console.log('updated the farm');\r\n\r\n    return result;\r\n  }\r\n\r\n  async authorizeFunderWallet(farm: PublicKey, funder: PublicKey) {\r\n    const result = await this.authorizeFunder(\r\n      farm,\r\n      this.wallet.publicKey,\r\n      funder\r\n    );\r\n\r\n    console.log('authorized funder', funder.toBase58());\r\n\r\n    return result;\r\n  }\r\n\r\n  async deauthorizeFunderWallet(farm: PublicKey, funder: PublicKey) {\r\n    const result = await this.deauthorizeFunder(\r\n      farm,\r\n      this.wallet.publicKey,\r\n      funder\r\n    );\r\n\r\n    console.log('DEauthorized funder', funder.toBase58());\r\n\r\n    return result;\r\n  }\r\n\r\n  async fundVariableRewardWallet(\r\n    farm: PublicKey,\r\n    rewardMint: PublicKey,\r\n    amount: string,\r\n    duration: string\r\n  ) {\r\n    const rewardSource = await this.findATA(rewardMint, this.wallet.publicKey);\r\n\r\n    const config: VariableRateConfig = {\r\n      amount: new BN(amount),\r\n      durationSec: new BN(duration),\r\n    };\r\n\r\n    const result = this.fundReward(\r\n      farm,\r\n      rewardMint,\r\n      this.wallet.publicKey,\r\n      rewardSource,\r\n      config\r\n    );\r\n\r\n    console.log('funded variable reward with mint:', rewardMint.toBase58());\r\n\r\n    return result;\r\n  }\r\n\r\n  async fundFixedRewardWallet(\r\n    farm: PublicKey,\r\n    rewardMint: PublicKey,\r\n    amount: string,\r\n    duration: string,\r\n    baseRate: string,\r\n    denominator: string,\r\n    t1RewardRate?: string,\r\n    t1RequiredTenure?: string,\r\n    t2RewardRate?: string,\r\n    t2RequiredTenure?: string,\r\n    t3RewardRate?: string,\r\n    t3RequiredTenure?: string\r\n  ) {\r\n    const rewardSource = await this.findATA(rewardMint, this.wallet.publicKey);\r\n\r\n    const config: FixedRateConfig = {\r\n      schedule: {\r\n        baseRate: new BN(baseRate),\r\n        tier1: t1RewardRate\r\n          ? {\r\n              rewardRate: new BN(t1RewardRate),\r\n              requiredTenure: new BN(t1RequiredTenure!),\r\n            }\r\n          : null,\r\n        tier2: t2RewardRate\r\n          ? {\r\n              rewardRate: new BN(t2RewardRate),\r\n              requiredTenure: new BN(t2RequiredTenure!),\r\n            }\r\n          : null,\r\n        tier3: t3RewardRate\r\n          ? {\r\n              rewardRate: new BN(t3RewardRate),\r\n              requiredTenure: new BN(t3RequiredTenure!),\r\n            }\r\n          : null,\r\n        denominator: new BN(denominator),\r\n      },\r\n      amount: new BN(amount),\r\n      durationSec: new BN(duration),\r\n    };\r\n\r\n    const result = await this.fundReward(\r\n      farm,\r\n      rewardMint,\r\n      this.wallet.publicKey,\r\n      rewardSource,\r\n      undefined,\r\n      config\r\n    );\r\n\r\n    console.log('funded fixed reward with mint:', rewardMint.toBase58());\r\n\r\n    return result;\r\n  }\r\n\r\n  async cancelRewardWallet(farm: PublicKey, rewardMint: PublicKey) {\r\n    const result = await this.cancelReward(\r\n      farm,\r\n      this.wallet.publicKey,\r\n      rewardMint,\r\n      this.wallet.publicKey\r\n    );\r\n\r\n    console.log('cancelled reward', rewardMint.toBase58());\r\n\r\n    return result;\r\n  }\r\n\r\n  async lockRewardWallet(farm: PublicKey, rewardMint: PublicKey) {\r\n    const result = await this.lockReward(\r\n      farm,\r\n      this.wallet.publicKey,\r\n      rewardMint\r\n    );\r\n\r\n    console.log('locked reward', rewardMint.toBase58());\r\n\r\n    return result;\r\n  }\r\n\r\n  async refreshFarmerWallet(farm: PublicKey, farmerIdentity: PublicKey) {\r\n    const result = await this.refreshFarmer(farm, farmerIdentity);\r\n\r\n    console.log('refreshed farmer', farmerIdentity.toBase58());\r\n\r\n    return result;\r\n  }\r\n\r\n  async treasuryPayoutWallet(\r\n    farm: PublicKey,\r\n    destination: PublicKey,\r\n    lamports: string\r\n  ) {\r\n    const result = await this.payoutFromTreasury(\r\n      farm,\r\n      this.wallet.publicKey,\r\n      destination,\r\n      new BN(lamports)\r\n    );\r\n\r\n    console.log('paid out from treasury', lamports);\r\n\r\n    return result;\r\n  }\r\n\r\n  async initFarmerWallet(farm: PublicKey) {\r\n    const result = await this.initFarmer(\r\n      farm,\r\n      this.wallet.publicKey,\r\n      this.wallet.publicKey\r\n    );\r\n\r\n    console.log('initialized new farmer', this.wallet.publicKey.toBase58());\r\n\r\n    return result;\r\n  }\r\n\r\n  async stakeWallet(farm: PublicKey) {\r\n    const result = await this.stake(farm, this.wallet.publicKey);\r\n\r\n    console.log('begun staking for farmer', this.wallet.publicKey.toBase58());\r\n\r\n    return result;\r\n  }\r\n\r\n  async unstakeWallet(farm: PublicKey) {\r\n    const result = await this.unstake(farm, this.wallet.publicKey);\r\n\r\n    console.log('ended staking for farmer', this.wallet.publicKey.toBase58());\r\n\r\n    return result;\r\n  }\r\n\r\n  async claimWallet(\r\n    farm: PublicKey,\r\n    rewardAMint: PublicKey,\r\n    rewardBMint: PublicKey\r\n  ) {\r\n    const result = await this.claim(\r\n      farm,\r\n      this.wallet.publicKey,\r\n      rewardAMint,\r\n      rewardBMint\r\n    );\r\n\r\n    console.log('claimed rewards for farmer', this.wallet.publicKey.toBase58());\r\n\r\n    return result;\r\n  }\r\n\r\n  async flashDepositWallet(\r\n    farm: PublicKey,\r\n    gemAmount: string,\r\n    gemMint: PublicKey,\r\n    gemSource: PublicKey,\r\n    creator: PublicKey\r\n  ) {\r\n    const farmAcc = await this.fetchFarmAcc(farm);\r\n    const bank = farmAcc.bank;\r\n\r\n    const [mintProof, bump] = await findWhitelistProofPDA(bank, gemMint);\r\n    const [creatorProof, bump2] = await findWhitelistProofPDA(bank, creator);\r\n    const metadata = await programs.metadata.Metadata.getPDA(gemMint);\r\n\r\n    const result = await this.flashDeposit(\r\n      farm,\r\n      this.wallet.publicKey,\r\n      new BN(gemAmount),\r\n      gemMint,\r\n      gemSource,\r\n      mintProof,\r\n      metadata,\r\n      creatorProof\r\n    );\r\n\r\n    console.log('added extra gem for farmer', this.wallet.publicKey.toBase58());\r\n\r\n    return result;\r\n  }\r\n\r\n  async addToBankWhitelistWallet(\r\n    farm: PublicKey,\r\n    addressToWhitelist: PublicKey,\r\n    whitelistType: WhitelistType\r\n  ) {\r\n    const result = await this.addToBankWhitelist(\r\n      farm,\r\n      this.wallet.publicKey,\r\n      addressToWhitelist,\r\n      whitelistType\r\n    );\r\n\r\n    console.log(`${addressToWhitelist.toBase58()} added to whitelist`);\r\n\r\n    return result;\r\n  }\r\n\r\n  async removeFromBankWhitelistWallet(\r\n    farm: PublicKey,\r\n    addressToRemove: PublicKey\r\n  ) {\r\n    const result = await this.removeFromBankWhitelist(\r\n      farm,\r\n      this.wallet.publicKey,\r\n      addressToRemove\r\n    );\r\n\r\n    console.log(`${addressToRemove.toBase58()} removed from whitelist`);\r\n\r\n    return result;\r\n  }\r\n}\r\n"],"sourceRoot":""}]}